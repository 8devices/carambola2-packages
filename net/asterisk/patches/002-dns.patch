diff -Nru asterisk-1.2.14.org/dns.c asterisk-1.2.14/dns.c
--- asterisk-1.2.14.org/dns.c	2005-11-29 19:24:39.000000000 +0100
+++ asterisk-1.2.14/dns.c	2006-12-27 08:50:05.000000000 +0100
@@ -175,7 +175,13 @@
 
 #if defined(res_ninit)
 #define HAS_RES_NINIT
-#else
+#endif
+
+#ifdef __UCLIBC__
+#undef HAS_RES_NINIT
+#endif
+
+#ifndef HAS_RES_NINIT
 AST_MUTEX_DEFINE_STATIC(res_lock);
 #if 0
 #warning "Warning, res_ninit is missing...  Could have reentrancy issues"

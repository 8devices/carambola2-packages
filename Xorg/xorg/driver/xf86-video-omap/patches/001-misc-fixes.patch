---
 src/omapfb-driver.c |    5 +++--
 src/omapfb-xv.c     |    6 +++---
 2 files changed, 6 insertions(+), 5 deletions(-)

--- xf86-video-omapfb-20100810.orig/src/omapfb-driver.c
+++ xf86-video-omapfb-20100810/src/omapfb-driver.c
@@ -182,7 +182,7 @@ OMAPFBProbe(DriverPtr drv, int flags)
 		return FALSE;
 
 /* FIXME: We don't really want to do it like this... */
-#define DEFAULT_DEVICE "/dev/fb"
+#define DEFAULT_DEVICE "/dev/fb0"
 
 	for (i = 0; i < numDevSections; i++) {
 		int fd;
@@ -831,7 +831,8 @@ static XF86ModuleVersionInfo OMAPFBVersR
 	MODINFOSTRING1,
 	MODINFOSTRING2,
 	XORG_VERSION_CURRENT,
-	PACKAGE_VERSION_MAJOR, PACKAGE_VERSION_MINOR, PACKAGE_VERSION_PATCHLEVEL,
+//	PACKAGE_VERSION_MAJOR, PACKAGE_VERSION_MINOR, PACKAGE_VERSION_PATCHLEVEL,
+	0, 0, 1,
 	ABI_CLASS_VIDEODRV,
 	ABI_VIDEODRV_VERSION,
 	NULL,
--- xf86-video-omapfb-20100810.orig/src/omapfb-xv.c
+++ xf86-video-omapfb-20100810/src/omapfb-xv.c
@@ -225,11 +225,11 @@ int OMAPFBXVInit (ScrnInfoPtr pScrn,
 		 */
 //		ofb->port->mem_info.type = OMAPFB_MEMTYPE_SRAM;
 		if (ioctl(ofb->port->fd, OMAPFB_SETUP_MEM, &ofb->port->mem_info) != 0) {
-			xf86DrvMsg(pScrn->scrnIndex, X_ERROR,
+			xf86DrvMsg(pScrn->scrnIndex, X_WARNING,
 			           "Failed to unallocate video plane memory: %s\n",
 			           strerror(errno));
-			OMAPFBPortFreeRec(pScrn);
-			return 0;
+//			OMAPFBPortFreeRec(pScrn);
+//			return 0;
 		}
 	}
 	if(ioctl(ofb->port->fd, OMAPFB_QUERY_PLANE, &ofb->port->plane_info) != 0) {

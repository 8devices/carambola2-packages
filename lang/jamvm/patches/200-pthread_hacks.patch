--- jamvm-1.4.4/src/os/linux/os.c	2006-10-29 23:56:43.000000000 +0100
+++ jamvm-1.4.4.new/src/os/linux/os.c	2006-12-09 21:17:43.000000000 +0100
@@ -31,15 +31,18 @@
     pthread_attr_t attr;
     void *addr;
     int size;
-
+#if 0
+/* Not implemented in uClibc yet */
     pthread_getattr_np(pthread_self(), &attr);
-    pthread_attr_getstack(&attr, &addr, &size);
+#endif
+    pthread_attr_getstackaddr(&attr, &addr);
 
     return addr+size;
 }
 
 int nativeAvailableProcessors() {
-    return get_nprocs();
+/* We assume embedded systems concerned are mono-processor only */
+    return 1;
 }
 
 char *nativeLibPath() {

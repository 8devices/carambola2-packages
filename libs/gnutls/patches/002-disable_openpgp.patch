diff -ruN gnutls-2.0.0-old/libextra/gnutls_extra.c gnutls-2.0.0-new/libextra/gnutls_extra.c
--- gnutls-2.0.0-old/libextra/gnutls_extra.c	2007-05-26 20:43:24.000000000 +0200
+++ gnutls-2.0.0-new/libextra/gnutls_extra.c	2007-09-09 13:36:21.000000000 +0200
@@ -140,6 +140,8 @@
     }
 #endif
 
+#ifdef ENABLE_OPENPGP
+
   /* Register the openpgp functions. This is because some
    * of them are defined to be NULL in the main library.
    */
@@ -155,6 +157,8 @@
 				 gnutls_openpgp_key_deinit,
 				 gnutls_openpgp_privkey_deinit);
 
+#endif /* ENABLE_OPENPGP */
+
   return 0;
 }
 
